{"version":3,"sources":["jquery.sidenotes.js"],"names":["$","Sidenote","SidenoteGroup","SidenotesPlugin","escapeExpression","__slice","slice","jQuery","window","document","fn","extend","sidenotes","args","option","arguments","length","call","this","each","$this","plugin","_ref","data","apply","removeData","scope","options","refCounter","sidenotePlacement","placement","hideFootnoteContainer","$footnoteContainer","footnoteContainerSelector","removeClass","addClass","$postContainer","parent","$footnotes","footnoteSelector","sidenotesAfterRef","groups","footnoteID","group","noRef","previous","sidenote","id","removeRefMarkRegex","test","push","$pivot","is","hasGroup","isHidden","initiallyHidden","hide","show","prototype","refMarkClass","sidenoteClass","sidenoteGroupClass","sidenoteElement","sidenoteGroupElement","formatSidenote","footnoteHtml","ref","$sidenote","class","html","attr","prepend","formatSidenoteID","replace","$el","force","_i","_j","_len","_len1","_ref1","$group","destroy","_results","remove","footnoteEl","owner","$backArrow","$referringFootnote","$footnote","sidenoteID","$refMarkAnchor","$refMarkSup","isNested","contains","get","refMark","closest","referringSidenote","refMarkID","originalRef","parentsUntil","last","noMark","s","Array","append","pivot","str"],"mappings":"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"}